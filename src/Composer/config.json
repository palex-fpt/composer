{
    "process-timeout": 300,
    "vendor-dir": "vendor",
    "bin-dir": "{$vendor-dir}/bin",
    "composer.json": "{$home}/composer.json",
    "notify-on-install": true,

    "default-repositories": {
        "packagist": {
            "type": "composer",
            "url": "http://packagist.org"
        }
    },
    "objects": {
        "remoteFilesystem": {
            "default-for": "Composer\\Util\\RemoteFilesystem",
            "class": "Composer\\Util\\RemoteFilesystem"
        },
        "io": {
            "default-for": "Composer\\IO\\IOInterface",
            "value": {"param": "io"}
        },
        "gitDownloader": { "class": "Composer\\Downloader\\GitDownloader" },
        "svnDownloader": { "class": "Composer\\Downloader\\SvnDownloader" },
        "hgDownloader": { "class": "Composer\\Downloader\\HgDownloader" },
        "zipDownloader": { "class": "Composer\\Downloader\\ZipDownloader" },
        "tarDownloader": { "class": "Composer\\Downloader\\TarDownloader" },
        "pharDownloader": { "class": "Composer\\Downloader\\PharDownloader" },
        "fileDownloader": { "class": "Composer\\Downloader\\FileDownloader" },

        "downloadManager": {
            "default-for": "Composer\\Downloader\\DownloadManager",
            "class": "Composer\\Downloader\\DownloadManager",
            "args": {
                "preferSource": {"param": "prefer-source"},
                "downloaders": [
                    { "git" :       {"ref": "gitDownloader"}},
                    { "svn" :       {"ref": "svnDownloader"}},
                    { "hg" :        {"ref": "hgDownloader"}},
                    { "zip" :       {"ref": "zipDownloader"}},
                    { "tar" :       {"ref": "tarDownloader"}},
                    { "phar" :      {"ref": "pharDownloader"}},
                    { "file" :      {"ref": "fileDownloader"}}
                ]
            }
        },

        "libraryInstaller": { "class": "Composer\\Installer\\LibraryInstaller" },
        "metapackageInstaller": { "class": "Composer\\Installer\\MetapackageInstaller" },
        "installerInstaller": { "class": "Composer\\Installer\\InstallerInstaller" },
        "defaultInstaller": { "class": "Composer\\Installer\\LibraryInstaller" },

        "installerManager": {
            "default-for": "Composer\\Installer\\InstallationManager",
            "class": "Composer\\Installer\\InstallationManager",
            "args": {
                "vendorDir": {"param": "vendor-dir"},
                "installers": [
                    { "library" :            {"ref": "libraryInstaller"}},
                    { "composer-installer" : {"ref": "installerInstaller"}},
                    { "metapackage" :        {"ref": "metapackageInstaller"}},
                    { "" :                   {"ref": "defaultInstaller"}}
                ]
            }
        },

        "platformRepository": { "class": "Composer\\Repository\\PlatformRepository" },
        "localRepository": {
            "class": "Composer\\Repository\\InstalledFilesystemRepository",
            "args": {
                "repositoryFile": { "class": "Composer\\Json\\JsonFile", "args": { "path": "{$vendor-dir}/composer/installed.json" } }
            }
        },
        "localDevRepository": {
            "class": "Composer\\Repository\\InstalledFilesystemRepository",
            "args": {
                "repositoryFile": { "class": "Composer\\Json\\JsonFile", "args": { "path": "{$vendor-dir}/composer/installed_dev.json" } }
            }
        },
        "reps": {
            "call": {
                "ref": "repLoader",
                "method": "downloads",
                "args": { "a1": { "param": "repositories" }}
            }
        },

        "composerRepositoryFactory": { "class": "Composer\\Repository\\ComposerRepositoryFactory" },
        "vcsRepositoryFactory": { "class": "Composer\\Repository\\VcsRepositoryFactory" },
        "packageRepositoryFactory": { "class": "Composer\\Repository\\PackageRepositoryFactory" },
        "pearRepositoryFactory": { "class": "Composer\\Repository\\PearRepositoryFactory" },

        "repositoryManager": {
            "default-for": "Composer\\Repository\\RepositoryManager",
            "class": "Composer\\Repository\\RepositoryManager",
            "args": {
                "localRepository": {"ref": "localRepository"},
                "localDevRepository": {"ref": "localDevRepository"},
                "repositoryFactories": [
                    { "composer" :   {"ref": "composerRepositoryFactory"}},
                    { "vcs" :        {"ref": "vcsRepositoryFactory"}},
                    { "git" :        {"ref": "vcsRepositoryFactory"}},
                    { "svn" :        {"ref": "vcsRepositoryFactory"}},
                    { "hg" :         {"ref": "vcsRepositoryFactory"}},
                    { "package" :    {"ref": "packageRepositoryFactory"}},
                    { "pear" :       {"ref": "pearRepositoryFactory"}}
                ],
                "repositories": { "class": "Composer\\Json\\JsonFile", "args": { "path": "{$composer.json}" } }
            }
        },
        "rootPackage": {

        },
        "composer": {
            "class": "Composer\\Composer",
            "instance-of": "Composer\\Composer",
            "args": {
            }
        },
        "installer": {
            "class": "Composer\\Installer",
            "instance-of": "Composer\\Installer"
        },

        "shower": {
            "class": "Composer\\Shower",
            "args": {
                "localRepository": {"ref": "localRepository"},
                "localDevRepository": {"ref": "localDevRepository"},
                "platformRepository": {"ref": "platformRepository"}
            }
        }
    }
}